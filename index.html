<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Confirmación de Asistencia - Jacqueline</title>
  <style>
    body {
      font-family: sans-serif;
      background: #fff8f0;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    label, input, button {
      display: block;
      margin: 10px 0;
    }
    input[type="checkbox"] {
      display: inline;
    }
  </style>
</head>
<body>
  <h2>Mis 15 Años - Jacqueline</h2>

  <label>Nombre completo:</label>
  <input type="text" id="nombre" required>

  <label>¿Confirmás asistencia?</label>
  <select id="asistencia">
    <option value="Sí">Sí</option>
    <option value="No">No</option>
  </select>

  <label>Restricciones alimentarias (puede marcar varias):</label>
  <label><input type="checkbox" name="alimentacion" value="Ninguna"> Ninguna</label>
  <label><input type="checkbox" name="alimentacion" value="SIN TACC"> SIN TACC</label>
  <label><input type="checkbox" name="alimentacion" value="Vegano"> Vegano</label>
  <label><input type="checkbox" name="alimentacion" value="Hipertensión"> Hipertensión</label>
  <label><input type="checkbox" name="alimentacion" value="Diabético"> Diabético</label>

  <button onclick="enviar()">Confirmar vía WhatsApp</button>

  <script>
    function enviar() {
      const nombre = document.getElementById("nombre").value.trim();
      const asistencia = document.getElementById("asistencia").value;

      const restricciones = Array.from(document.querySelectorAll('input[name="alimentacion"]:checked'))
        .map(el => el.value).join(", ") || "No especifica";

      // VALIDACIÓN
      if (!nombre) {
        alert("Por favor, completá tu nombre.");
        return;
      }

      const mensaje = `Hola, soy ${nombre}. Confirmo asistencia: ${asistencia}. Restricciones: ${restricciones}. Evento: Mis 15 Años - Jacqueline`;

      // GUARDAR EN GOOGLE SHEET
      const formData = new FormData();
      formData.append("nombre", nombre);
      formData.append("asistencia", asistencia);
      formData.append("restricciones", restricciones);

      fetch("https://script.google.com/macros/s/AKfycbyYcZrUOH_gs9tSvr7aZakrSKq9yPLjp1zIimHSeZ70865HvvtuMxYAfKsN3x-hn41Dtw/exec", {
        method: "POST",
        body: formData
      }).then(res => {
        if (res.ok) {
          const wa = `https://wa.me/541124572552?text=${encodeURIComponent(mensaje)}`;
          window.open(wa, "_blank");
        } else {
          alert("Error al enviar los datos. Intentalo de nuevo.");
        }
      });
    }
  </script>
</body>
</html>

